<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/polymer/lib/mixins/gesture-event-listeners.html">
<link rel="import" href="../../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../../bower_components/paper-badge/paper-badge.html">
<link rel="import" href="../../../bower_components/vientos-iconset/vientos-iconset.html">

<link rel="import" href="conversations-list-styles.html">

<dom-module id="conversations-list">
  <template>
  <style include="conversations-list-styles"></style>
    <ul>
      <template is="dom-repeat" items="[[visibleConversations]]" as="conversation">
        <li on-tap="_showConversation" class="clickable">
          <template is="dom-if" if="[[_getNotificationsCount(conversation, notifications)]]">
            <paper-badge label="[[_getNotificationsCount(conversation, notifications)]]"></paper-badge>
          </template>
          <div>
            <iron-image
               src="[[_getImage(conversation.creator, people, 26)]]"
               sizing="cover">
            </iron-image>
            [[_getName(conversation.creator, people)]]
          </div>
          <template is="dom-if" if="[[_ourTurn(person, conversation, intents, reviews)]]">
            <iron-icon icon="vientos:star"></iron-icon>
          </template>
        </li>
      </template>
    </ul>
  </template>
  <script src="conversations-list.js"></script>
</dom-module>
